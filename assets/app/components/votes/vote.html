<div id="vote_component">
    <h2 ng-if="!vm.change">Nothing to moderate</h2>
    <div id="description_container" ng-if="vm.change">
        <!-- <div style="text-align:center;height:60px;width:60px"> -->
        <!--     <i class="fa fa-3x fa-fw" ng-class="vm.change.icon"></i> -->
        <!--     <br/> {{vm.change.type}} -->
        <!-- </div> -->

        <div id="action_container" ng-if="::vm.change">
            <div class="vote-buttons">
                <button class="btn btn-danger" ng-click="vm.downvote()">
                    <i class="fa fa-close"></i> dosn't make sense
                </button>
                <button class="btn btn-warning" ng-click="vm.skip()">
                    <i class="fa fa-forward"></i> I don't know
                </button>
                <button class="btn btn-success" ng-click="vm.upvote()">
                    <i class="fa fa-check-square-o"></i> makes sense
                </button>
            </div>

            <h4 class="action-description">
                <span ng-if="vm.is('Delete')">Delete Post</span>
                <span ng-if="vm.is('Edit')">Edit Post</span>
                <span ng-if="vm.is('AddTag')">Add Tag <span tag-label="vm.change.tag"></span></span>
                <span ng-if="vm.is('RemoveTag')">Remove Tag <span tag-label="vm.change.tag" class="remove"></span></span>
            </h4>

            <div ng-class="vm.actionclasses">
                <ul tabset class="tabs-above">
                    <li tab>
                        <a tab-heading>Old</a>
                        <div class="post" colored-tag-node="vm.change.post" big="true">
                            <h2 class="post-title">{{vm.change.oldTitle}}</h2>
                            <div ng-show="vm.showDescription" class="post-description" markdown="vm.change.oldDescription" ng-show="vm.change.oldDescription"></div>
                        </div>

                    </li>
                    <li tab active="vm.showMiddleTab">
                        <a tab-heading>Difference</a>
                        <div class="post" colored-tag-node="vm.change.post" big="true" ng-class="{remove: vm.is('Delete')}">
                            <h2 class="post-title">
                                <div ng-if="vm.is('Edit')" word-based-diff source-a="vm.change.oldTitle" source-b="vm.change.newTitle"></div>
                                <span ng-if="vm.is('AddTag') || vm.is('RemoveTag') || vm.is('Delete')">{{vm.change.post.title}}</span>
                            </h2>

                            <div ng-if="vm.is('AddTag')">
                                <span ng-repeat="tag in vm.change.post.tags.concat([vm.change.tag]) | unique:'id'" tag-label="tag" class="tag" ng-class="{'existing': tag.id !== vm.change.tag.id}">
                                    <i ng-show="tag.id === vm.change.tag.id" class="fa fa-plus right"></i>
                                </span>
                            </div>

                            <div ng-if="vm.is('RemoveTag')">
                                <span ng-repeat="tag in vm.change.post.tags" tag-label="tag" class="tag"></span>
                                <span tag-label="vm.change.tag" class="tag removed"></span>
                            </div>

                            <div ng-show="vm.showDescription" class="well well-sm post-description">
                                <p ng-if="vm.is('Edit')" class="diff" word-based-diff source-a="vm.change.oldDescription" source-b="vm.change.newDescription"></p>
                                <div ng-show="!vm.is('Edit') && vm.change.newDescription" class="post-description" markdown="vm.change.newDescription"></div>
                            </div>
                        </div>
                    </li>
                    <li tab>
                        <a tab-heading>New</a>
                        <div class="post" colored-tag-node="vm.change.post" big="true">
                            <h2 class="post-title">{{vm.change.newTitle}}</h2>

                            <div ng-show="vm.showDescription" class="post-description" markdown="vm.change.newDescription" ng-show="vm.change.newDescription"></div>
                        </div>
                    </li>
                </ul>
            </div>

        </div>

    </div>
</div>
