<div class="post_change_request_directive" ng-if="vm.changes.length > 0">
    <div class="changerequest" ng-repeat="change in vm.changes">
        <span ng-switch="change.type">
            <div ng-switch-when="Edit">
                <span ng-if="change.oldTitle != change.newTitle">
                    <b>Edit Summary:</b>
                    <h2 class="title-diff" word-based-diff source-a="change.oldTitle" source-b="change.newTitle"></h2>
                </span>
                <span ng-if="change.oldDescription != change.newDescription">
                    <b>Edit Description:</b>
                    <pre word-based-diff source-a="change.oldDescription" source-b="change.newDescription"></pre>
                </span>
            </div>
            <div ng-switch-when="Delete"><b>
                    Delete this Post
            </b></div>
            <div ng-switch-when="AddTag">
                <b>Put in context </b>
                <span tag-label="change.tag"></span>
                <span ng-if="change.classifications.length">
                    <b>as a</b>
                    <span ng-repeat="classification in change.classifications" tag-label="classification"></span>
                </span>
            </div>
            <div ng-switch-when="RemoveTag" ng-switch="change.classifications.length">
                <b>Take out of context</b>
                <span ng-switch-when="0">
                    <span class="removed" tag-label="change.tag"></span>
                </span>
                <span ng-switch-default>
                    <span tag-label="change.tag"></span>
                    <b>as a </b>
                    <span class="removed" ng-repeat="classification in change.classifications" tag-label="classification"></span>
                </span>
            </div>
        </span>

        <div class="votebar">
            <button class="pull-right btn btn-success btn-xs" ng-class="{ inactive: change.vote.weight === undefined || change.vote.weight <= 0 }" type="button" ng-click="vm.voting.up(change)"><i class="fa fa-check"></i></button>
            <button class="pull-left btn btn-danger btn-xs" ng-class="{ inactive: change.vote.weight === undefined || change.vote.weight >= 0 }" type="button" ng-click="vm.voting.down(change)"><i class="fa fa-close"></i></button>
            <vote-progress change="change"></vote-progress>
        <div>
    </div>
</div>
